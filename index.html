<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ù…Ø®ØªØ¨Ø± Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ</title>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary-color: #2c5e1a;
      --secondary-color: #4a8c2a;
      --accent-color: #ffd700;
      --light-bg: #f8f9fa;
      --white: #ffffff;
      --dark-text: #333333;
      --border-radius: 12px;
      --box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      --transition: all 0.3s ease;
    }

    body {
      font-family: 'Tajawal', sans-serif;
      background-color: var(--light-bg);
      padding: 0;
      margin: 0;
      color: var(--dark-text);
      line-height: 1.6;
      min-height: 100vh;
    }

    header {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: var(--white);
      padding: 1rem;
      text-align: center;
      border-bottom: 4px solid var(--accent-color);
      box-shadow: var(--box-shadow);
    }

    h1 {
      margin: 0;
      font-size: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      padding: 0.5rem 0;
    }

    .container {
      width: 95%;
      margin: 1rem auto;
      padding: 0 0.5rem;
    }

    .button-group {
      display: flex;
      justify-content: center;
      gap: 0.5rem;
      margin-top: 0.5rem;
      flex-wrap: wrap;
    }

    button {
      background-color: var(--primary-color);
      color: var(--white);
      padding: 0.6rem 1rem;
      border: none;
      border-radius: var(--border-radius);
      cursor: pointer;
      font-weight: 700;
      font-size: 0.9rem;
      transition: var(--transition);
      display: flex;
      align-items: center;
      gap: 5px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      white-space: nowrap;
    }

    button:hover {
      background-color: var(--secondary-color);
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
    }

    .chemicals-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(90px, 1fr));
      gap: 0.8rem;
      margin: 1rem 0;
    }

    .chemical {
      background-color: var(--white);
      padding: 0.8rem 0.5rem;
      border-radius: var(--border-radius);
      cursor: grab;
      font-weight: 700;
      text-align: center;
      transition: var(--transition);
      box-shadow: var(--box-shadow);
      border: 2px solid transparent;
      position: relative;
      overflow: hidden;
      font-size: 0.9rem;
    }

    .chemical:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      border-color: var(--accent-color);
    }

    .chemical::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background-color: var(--accent-color);
    }

    .lab, .history {
      background-color: var(--white);
      padding: 1.2rem;
      border-radius: var(--border-radius);
      margin-top: 1rem;
      box-shadow: var(--box-shadow);
    }

    .section-title {
      color: var(--primary-color);
      margin-top: 0;
      margin-bottom: 1rem;
      font-size: 1.2rem;
      position: relative;
      padding-bottom: 0.5rem;
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: 0;
      right: 0;
      width: 60px;
      height: 2px;
      background-color: var(--accent-color);
    }

    #test-tube {
      margin: 1.5rem auto;
      padding: 1.5rem;
      border: 2px dashed var(--primary-color);
      width: 90%;
      max-width: 350px;
      min-height: 100px;
      background-color: rgba(234, 250, 241, 0.5);
      border-radius: var(--border-radius);
      position: relative;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
      transition: background-color 0.6s ease, border 0.3s ease;

    }

    #test-tube:hover {
      background-color: rgba(234, 250, 241, 0.8);
    }

    #test-tube::before {
      content: 'ğŸ§ª';
      font-size: 1.8rem;
      margin-bottom: 0.8rem;
    }

    #tube-content {
      margin: 0;
      font-size: 1rem;
      color: var(--dark-text);
    }

    #reaction-result {
      margin: 1.5rem auto;
      padding: 1rem;
      background-color: var(--light-bg);
      border-radius: var(--border-radius);
      font-size: 1rem;
      font-weight: 500;
      max-width: 90%;
      border-right: 3px solid var(--accent-color);
    }

    #score {
      font-size: 1.1rem;
      margin: 1rem 0;
      color: var(--primary-color);
      font-weight: 700;
      background-color: rgba(255, 215, 0, 0.2);
      padding: 0.8rem;
      border-radius: var(--border-radius);
      display: inline-block;
    }

    .hidden { 
      display: none; 
    }

    /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„ØªÙØ§Ø¹Ù„ */
    .smoke {
      position: absolute;
      top: 10px;
      left: 50%;
      transform: translateX(-50%);
      width: 60px;
      height: 60px;
      background: radial-gradient(closest-side, rgba(255,255,255,0.8), transparent);
      border-radius: 50%;
      animation: smokeRise 2s ease-out forwards;
      pointer-events: none;
      z-index: 10;
    }

    @keyframes smokeRise {
      0% { transform: translateX(-50%) translateY(0) scale(0.8); opacity: 0.8; }
      100% { transform: translateX(-50%) translateY(-150px) scale(1.3); opacity: 0; }
    }

    /* Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ§Ø±ÙŠØ® */
    #history-list {
      list-style-type: none;
      padding: 0;
      margin: 0;
    }

    #history-list li {
      padding: 0.8rem;
      margin-bottom: 0.5rem;
      background-color: var(--light-bg);
      border-radius: var(--border-radius);
      border-right: 3px solid var(--accent-color);
      transition: var(--transition);
      font-size: 0.9rem;
    }

    #history-list li:hover {
      transform: translateX(-3px);
      background-color: rgba(74, 140, 42, 0.1);
    }

    /* ØªØ£Ø«ÙŠØ±Ø§Øª Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª */
    .drag-over {
      background-color: rgba(74, 140, 42, 0.2) !important;
      border-color: var(--secondary-color) !important;
    }

    /* ØªØµÙ…ÙŠÙ… Ù…ØªØ¬Ø§ÙˆØ¨ Ù„Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø© Ø¬Ø¯Ù‹Ø§ */
    @media (max-width: 480px) {
      .chemicals-grid {
        grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
        gap: 0.5rem;
      }
      
      h1 {
        font-size: 1.3rem;
      }
      
      .section-title {
        font-size: 1.1rem;
      }
      
      button {
        padding: 0.5rem 0.8rem;
        font-size: 0.8rem;
      }
      
      #test-tube {
        padding: 1rem;
        min-height: 80px;
      }
      
      #reaction-result {
        padding: 0.8rem;
        font-size: 0.9rem;
      }
    }

    /* ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ù„Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø£ÙÙ‚ÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù‡ÙˆØ§ØªÙ */
    @media (max-height: 500px) and (orientation: landscape) {
      header {
        padding: 0.5rem;
      }
      
      h1 {
        font-size: 1.2rem;
      }
      
      .container {
        margin: 0.5rem auto;
      }
      
      .chemicals-grid {
        grid-template-columns: repeat(auto-fill, minmax(70px, 1fr));
        gap: 0.5rem;
        margin: 0.5rem 0;
      }
      
      .chemical {
        padding: 0.5rem;
        font-size: 0.8rem;
      }
      
      #test-tube {
        margin: 0.8rem auto;
        padding: 0.8rem;
        min-height: 60px;
      }
    }

    
  </style>
</head>
<body>

  <header>
    <div class="container">
      <h1><span>ğŸ”¬</span> Ù…Ø®ØªØ¨Ø± Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡ Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ</h1>
      <div class="button-group">
        <button onclick="showLab()"><span>ğŸ </span> Ø§Ù„ØªØ¬Ø§Ø±Ø¨</button>
        <button onclick="showHistory()"><span>ğŸ“œ</span> Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±Ø¨</button>
        <button onclick="resetData()"><span>â™»ï¸</span> Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø·</button>
      </div>
    </div>
  </header>

  <main class="container">
    <section class="lab" id="lab-section">
      <h2 class="section-title">Ø§Ø®ØªØ± Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØ©</h2>
      
      <div class="chemicals-grid">
        <!-- Ø§Ù„Ù…ÙˆØ§Ø¯ Ø§Ù„Ø£ØµÙ„ÙŠØ© -->
        <div class="chemical" draggable="true" data-name="HCl">Ø­Ù…Ø¶ HCl</div>
        <div class="chemical" draggable="true" data-name="NaOH">Ù‚Ø§Ø¹Ø¯Ø© NaOH</div>
        <div class="chemical" draggable="true" data-name="Na">ØµÙˆØ¯ÙŠÙˆÙ…</div>
        <div class="chemical" draggable="true" data-name="H2O">Ù…Ø§Ø¡</div>
        <!-- Ù…ÙˆØ§Ø¯ Ø¬Ø¯ÙŠØ¯Ø© -->
        <div class="chemical" draggable="true" data-name="H2SO4">Ø­Ù…Ø¶ Hâ‚‚SOâ‚„</div>
        <div class="chemical" draggable="true" data-name="CuSO4">ÙƒØ¨Ø±ÙŠØªØ§Øª CuSOâ‚„</div>
        <div class="chemical" draggable="true" data-name="AgNO3">Ù†ØªØ±Ø§Øª AgNOâ‚ƒ</div>
        <div class="chemical" draggable="true" data-name="NH3">Ø§Ù„Ø£Ù…ÙˆÙ†ÙŠØ§ NHâ‚ƒ</div>
        <div class="chemical" draggable="true" data-name="BaCl2">ÙƒÙ„ÙˆØ±ÙŠØ¯ BaClâ‚‚</div>
        <div class="chemical" draggable="true" data-name="NaCl">Ù…Ù„Ø­ NaCl</div>
        <div class="chemical" draggable="true" data-name="Fe">Ø­Ø¯ÙŠØ¯ Fe</div>
        <div class="chemical" draggable="true" data-name="HCl">Ø­Ù…Ø¶ HCl</div>
        <div class="chemical" draggable="true" data-name="Mg">Ù…ØºÙ†ÙŠØ³ÙŠÙˆÙ… Mg</div>
<div class="chemical" draggable="true" data-name="O2">Ø£ÙƒØ³Ø¬ÙŠÙ† Oâ‚‚</div>
<div class="chemical" draggable="true" data-name="CaCO3">ÙƒØ±Ø¨ÙˆÙ†Ø§Øª Ø§Ù„ÙƒØ§Ù„Ø³ÙŠÙˆÙ… CaCOâ‚ƒ</div>
<div class="chemical" draggable="true" data-name="H2SO4">Ø­Ù…Ø¶ Ø§Ù„ÙƒØ¨Ø±ÙŠØªÙŠÙƒ Hâ‚‚SOâ‚„</div>
<div class="chemical" draggable="true" data-name="Zn">Ø²Ù†Ùƒ Zn</div>
<div class="chemical" draggable="true" data-name="CH4">Ù…ÙŠØ«Ø§Ù† CHâ‚„</div>
<div class="chemical" draggable="true" data-name="O2">Ø£ÙˆÙƒØ³Ø¬ÙŠÙ† Oâ‚‚</div>
<div class="chemical" draggable="true" data-name="H2O2">ÙÙˆÙ‚ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ† Hâ‚‚Oâ‚‚</div>
<div class="chemical" draggable="true" data-name="Na2SO4">ÙƒØ¨Ø±ÙŠØªØ§Øª Ø§Ù„ØµÙˆØ¯ÙŠÙˆÙ… Naâ‚‚SOâ‚„</div>
<div class="chemical" draggable="true" data-name="KBr">Ø¨Ø±ÙˆÙ…ÙŠØ¯ Ø§Ù„Ø¨ÙˆØªØ§Ø³ÙŠÙˆÙ… KBr</div>
<div class="chemical" draggable="true" data-name="CO2">Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„ÙƒØ±Ø¨ÙˆÙ† COâ‚‚</div>
<div class="chemical" draggable="true" data-name="KSCN">Ø«ÙŠÙˆØ³ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨ÙˆØªØ§Ø³ÙŠÙˆÙ… KSCN</div>
<div class="chemical" draggable="true" data-name="FeCl3">ÙƒÙ„ÙˆØ±ÙŠØ¯ Ø§Ù„Ø­Ø¯ÙŠØ¯ FeClâ‚ƒ</div>
<div class="chemical" draggable="true" data-name="Fe2O3">Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„Ø­Ø¯ÙŠØ¯ Feâ‚‚Oâ‚ƒ</div>
<div class="chemical" draggable="true" data-name="Al">Ø£Ù„Ù…Ù†ÙŠÙˆÙ… Al</div>


      </div>

      <h3 class="section-title">Ø§Ø³Ø­Ø¨ Ø§Ù„Ù…ÙˆØ§Ø¯ Ø¥Ù„Ù‰ Ø£Ù†Ø¨ÙˆØ¨ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±</h3>
      <div id="test-tube" ondragover="dragOverHandler(event)" ondragleave="dragLeaveHandler(event)" ondrop="dropHandler(event)">
        <p id="tube-content">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…ÙˆØ§Ø¯ Ø¨Ø¹Ø¯</p>
      </div>

      <div style="text-align: center;">
        <button onclick="runReaction()" style="padding: 0.8rem 1.5rem; font-size: 1rem;">
          <span>âš—ï¸</span> ØªÙ†ÙÙŠØ° Ø§Ù„ØªÙØ§Ø¹Ù„
        </button>
      </div>

      <div id="reaction-result"></div>
      <div id="quiz-section" class="hidden" style="margin-top: 1.5rem;">
  <h3 style="color: var(--primary-color);">ğŸ§  Ø³Ø¤Ø§Ù„ Ø³Ø±ÙŠØ¹ Ø¨Ø¹Ø¯ Ø§Ù„ØªØ¬Ø±Ø¨Ø©</h3>
  <p id="quiz-question" style="font-weight: 600;"></p>
  <div id="quiz-options" style="margin-top: 1rem;"></div>
</div>

      <div id="score">Ù†Ù‚Ø§Ø·Ùƒ: 0</div>
    </section>

    <section class="history hidden" id="history-section">
      <h2 class="section-title">Ø³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±Ø¨</h2>
      <ul id="history-list"></ul>
    </section>
  

  </main>

<audio id="reaction-sound" src="https://www.dropbox.com/scl/fi/xz6xap9tsf45ivx0xrc8r/bubbling.mp3?rlkey=w8mvpu88dtf3v0xfqe84kv2q3&raw=1" preload="auto"></audio>

  <script>
    let selectedChemicals = [];
    let score = +localStorage.getItem("score") || 0;
    let history = JSON.parse(localStorage.getItem("history") || "[]");
    


    const scoreDisplay = document.getElementById('score');
    const resultDisplay = document.getElementById('reaction-result');
    const tubeContent = document.getElementById('tube-content');
    const tube = document.getElementById('test-tube');

   const reactionMap = {
  'HCl+NaOH': {
    title: 'âœ… ØªÙØ§Ø¹Ù„ ØªØ¹Ø§Ø¯Ù„',
    equation: 'HCl + NaOH â†’ NaCl + Hâ‚‚O',
    description: 'ÙŠØªÙƒÙˆÙ‘Ù† Ù…Ø§Ø¡ ÙˆÙ…Ù„Ø­ Ø¹Ù†Ø¯ Ù…Ø²Ø¬ Ø­Ù…Ø¶ Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆÙƒÙ„ÙˆØ±ÙŠÙƒ Ù…Ø¹ Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠØ¯ Ø§Ù„ØµÙˆØ¯ÙŠÙˆÙ….',
    colorEffect: '#a2d2ff'
  },
  'Na+H2O': {
    title: 'âš ï¸ ØªÙØ§Ø¹Ù„ Ø¹Ù†ÙŠÙ',
    equation: '2Na + 2Hâ‚‚O â†’ 2NaOH + Hâ‚‚â†‘',
    description: 'ÙŠÙ†ØªØ¬ ØºØ§Ø² Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ† ÙˆØªÙØ§Ø¹Ù„ Ù‚ÙˆÙŠ Ù‚Ø¯ ÙŠØ¤Ø¯ÙŠ Ù„Ø§Ù†ÙØ¬Ø§Ø± Ø¨Ø³ÙŠØ·.',
    colorEffect: '#ff6f61'
  },
  'HCl+Na': {
    title: 'ğŸ’¥ ØªÙØ§Ø¹Ù„ Ø¥Ø²Ø§Ø­Ø©',
    equation: '2Na + 2HCl â†’ 2NaCl + Hâ‚‚â†‘',
    description: 'Ø§Ù„ØµÙˆØ¯ÙŠÙˆÙ… ÙŠØ²ÙŠØ­ Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ† Ù…Ù† Ø§Ù„Ø­Ù…Ø¶ ÙˆÙŠØªÙƒÙˆÙ‘Ù† Ù…Ù„Ø­ ÙˆÙ‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†.',
    colorEffect: '#ffa69e'
  },
  'H2SO4+NaOH': {
    title: 'âœ… ØªØ¹Ø§Ø¯Ù„ Ù‚ÙˆÙŠ',
    equation: 'Hâ‚‚SOâ‚„ + 2NaOH â†’ Naâ‚‚SOâ‚„ + 2Hâ‚‚O',
    description: 'Ø­Ù…Ø¶ Ø§Ù„ÙƒØ¨Ø±ÙŠØªÙŠÙƒ ÙŠÙƒÙˆÙ‘Ù† ÙƒØ¨Ø±ÙŠØªØ§Øª Ø§Ù„ØµÙˆØ¯ÙŠÙˆÙ… ÙˆØ§Ù„Ù…Ø§Ø¡.',
    colorEffect: '#a2d2ff'
  },
  'AgNO3+NaCl': {
    title: 'âš—ï¸ ØªØ±Ø³ÙŠØ¨ Ø£Ø¨ÙŠØ¶',
    equation: 'AgNOâ‚ƒ + NaCl â†’ AgClâ†“ + NaNOâ‚ƒ',
    description: 'ÙŠØªÙƒÙˆÙ‘Ù† Ø±Ø§Ø³Ø¨ Ø£Ø¨ÙŠØ¶ Ù…Ù† ÙƒÙ„ÙˆØ±ÙŠØ¯ Ø§Ù„ÙØ¶Ø© ØºÙŠØ± Ø§Ù„Ø°Ø§Ø¦Ø¨.',
    colorEffect: '#eeeeee'
  },
  'CuSO4+Fe': {
    title: 'ğŸ” Ø¥Ø­Ù„Ø§Ù„ ÙÙ„Ø²ÙŠ',
    equation: 'CuSOâ‚„ + Fe â†’ FeSOâ‚„ + Cuâ†“',
    description: 'Ø§Ù„Ø­Ø¯ÙŠØ¯ ÙŠØ²ÙŠØ­ Ø§Ù„Ù†Ø­Ø§Ø³ ÙˆÙŠØªÙƒÙˆÙ‘Ù† ÙƒØ¨Ø±ÙŠØªØ§Øª Ø§Ù„Ø­Ø¯ÙŠØ¯.',
    colorEffect: '#b5ead7'
  },
  'BaCl2+H2SO4': {
    title: 'âš ï¸ ØªØ±Ø³ÙŠØ¨ Ø£Ø¨ÙŠØ¶ ÙƒØ«ÙŠÙ',
    equation: 'BaClâ‚‚ + Hâ‚‚SOâ‚„ â†’ BaSOâ‚„â†“ + 2HCl',
    description: 'ØªÙƒÙˆÙ‘Ù† ÙƒØ¨Ø±ÙŠØªØ§Øª Ø§Ù„Ø¨Ø§Ø±ÙŠÙˆÙ… Ø±Ø§Ø³Ø¨Ù‹Ø§ Ø£Ø¨ÙŠØ¶ ÙƒØ«ÙŠÙÙ‹Ø§ ØºÙŠØ± Ø°Ø§Ø¦Ø¨.',
    colorEffect: '#f8f9fa'
  },
  'NH3+HCl': {
    title: 'ğŸ”¥ Ø¨Ø®Ø§Ø± Ø£Ø¨ÙŠØ¶',
    equation: 'NHâ‚ƒ + HCl â†’ NHâ‚„Cl',
    description: 'ÙŠÙ†ØªØ¬ Ø¨Ø®Ø§Ø± Ø£Ø¨ÙŠØ¶ Ù…Ù† ÙƒÙ„ÙˆØ±ÙŠØ¯ Ø§Ù„Ø£Ù…ÙˆÙ†ÙŠÙˆÙ… Ø¹Ù†Ø¯ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø§Ù„ØºØ§Ø²ÙŠ.',
    colorEffect: '#ffffff'
  },
  'Mg+O2': {
    title: 'ğŸ”¥ Ø§Ø­ØªØ±Ø§Ù‚ Ø§Ù„Ù…Ø¹Ø¯Ù†',
    equation: '2Mg + Oâ‚‚ â†’ 2MgO',
    description: 'ÙŠÙ†ØªØ¬ Ø¶ÙˆØ¡ ÙˆØ­Ø±Ø§Ø±Ø© Ù‚ÙˆÙŠØ© Ø¹Ù†Ø¯ Ø§Ø­ØªØ±Ø§Ù‚ Ø§Ù„Ù…ØºÙ†ÙŠØ³ÙŠÙˆÙ… ÙÙŠ Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†.',
    colorEffect: '#ffcf56'
  },
  'CaCO3+HCl': {
    title: 'âš—ï¸ ØªÙØ§Ø¹Ù„ Ø­Ù…Ø¶-ÙƒØ±Ø¨ÙˆÙ†Ø§Øª',
    equation: 'CaCOâ‚ƒ + 2HCl â†’ CaClâ‚‚ + COâ‚‚â†‘ + Hâ‚‚O',
    description: 'ÙŠÙ†ØªØ¬ ØºØ§Ø² Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„ÙƒØ±Ø¨ÙˆÙ† ÙˆÙÙ‚Ø§Ø¹Ø§Øª ÙˆØ§Ø¶Ø­Ø©.',
    colorEffect: '#d0f4de'
  },
  'Zn+H2SO4': {
    title: 'ğŸ’¥ Ø¥Ø­Ù„Ø§Ù„ ÙÙ„Ø²ÙŠ',
    equation: 'Zn + Hâ‚‚SOâ‚„ â†’ ZnSOâ‚„ + Hâ‚‚â†‘',
    description: 'ÙŠØªØ­Ø±Ø± ØºØ§Ø² Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ† ÙˆØªØµØ¯Ø± ÙÙ‚Ø§Ø¹Ø§Øª.',
    colorEffect: '#ffaaa5'
  },
  'NaOH+FeSO4': {
    title: 'ğŸŸ¢ ØªØ±Ø³ÙŠØ¨ Ø£Ø®Ø¶Ø±',
    equation: '2NaOH + FeSOâ‚„ â†’ Fe(OH)â‚‚â†“ + Naâ‚‚SOâ‚„',
    description: 'ÙŠØªÙƒÙˆÙ‘Ù† Ø±Ø§Ø³Ø¨ Ø£Ø®Ø¶Ø± Ù…Ù† Ù‡ÙŠØ¯Ø±ÙˆÙƒØ³ÙŠØ¯ Ø§Ù„Ø­Ø¯ÙŠØ¯ Ø§Ù„Ø«Ù†Ø§Ø¦ÙŠ.',
    colorEffect: '#a3de83'
  },
  'CH4+O2': {
    title: 'ğŸ”¥ ØªÙØ§Ø¹Ù„ Ø§Ø­ØªØ±Ø§Ù‚',
    equation: 'CHâ‚„ + 2Oâ‚‚ â†’ COâ‚‚ + 2Hâ‚‚O',
    description: 'Ø§Ø­ØªØ±Ø§Ù‚ Ø§Ù„Ù…ÙŠØ«Ø§Ù† ÙÙŠ Ø§Ù„Ø£ÙˆÙƒØ³Ø¬ÙŠÙ† ÙŠÙ†ØªØ¬ Ø·Ø§Ù‚Ø© ÙˆØ«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„ÙƒØ±Ø¨ÙˆÙ† ÙˆØ§Ù„Ù…Ø§Ø¡.',
    colorEffect: '#ff9f1c'
  },
  'H2O2': {
    title: 'ğŸ§ª ØªÙØ§Ø¹Ù„ ØªÙÙƒÙƒ',
    equation: '2Hâ‚‚Oâ‚‚ â†’ 2Hâ‚‚O + Oâ‚‚',
    description: 'ÙŠØªÙÙƒÙƒ ÙÙˆÙ‚ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ† Ø¥Ù„Ù‰ Ù…Ø§Ø¡ ÙˆØºØ§Ø² Ø§Ù„Ø£ÙˆÙƒØ³Ø¬ÙŠÙ†.',
    colorEffect: '#f3eac2'
  },
  'H2O': {
    title: 'âš¡ Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ Ù„Ù„Ù…Ø§Ø¡',
    equation: '2Hâ‚‚O â†’ 2Hâ‚‚ + Oâ‚‚',
    description: 'Ø¹Ù†Ø¯ ØªÙ…Ø±ÙŠØ± ØªÙŠØ§Ø± ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØŒ ÙŠØªØ­Ù„Ù„ Ø§Ù„Ù…Ø§Ø¡ Ø¥Ù„Ù‰ ØºØ§Ø² Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ† ÙˆØ§Ù„Ø£ÙˆÙƒØ³Ø¬ÙŠÙ†.',
    colorEffect: '#bde0fe'
  },
  'BaCl2+Na2SO4': {
    title: 'âš—ï¸ ØªÙØ§Ø¹Ù„ ØªØ±Ø³ÙŠØ¨',
    equation: 'BaClâ‚‚ + Naâ‚‚SOâ‚„ â†’ BaSOâ‚„â†“ + 2NaCl',
    description: 'ÙŠÙ†ØªØ¬ Ø±Ø§Ø³Ø¨ Ø£Ø¨ÙŠØ¶ Ù…Ù† ÙƒØ¨Ø±ÙŠØªØ§Øª Ø§Ù„Ø¨Ø§Ø±ÙŠÙˆÙ….',
    colorEffect: '#f1f1f1'
  },
  'AgNO3+KBr': {
    title: 'âš—ï¸ ØªØ±Ø³ÙŠØ¨ Ø£ØµÙØ±',
    equation: 'AgNOâ‚ƒ + KBr â†’ AgBrâ†“ + KNOâ‚ƒ',
    description: 'ÙŠØªÙƒÙˆÙ‘Ù† Ø±Ø§Ø³Ø¨ Ø£ØµÙØ± Ù…Ù† Ø¨Ø±ÙˆÙ…ÙŠØ¯ Ø§Ù„ÙØ¶Ø©.',
    colorEffect: '#fff3b0'
  },
  'Zn+HCl': {
    title: 'ğŸ’¥ ØªÙØ§Ø¹Ù„ ÙÙ„Ø² Ù…Ø¹ Ø­Ù…Ø¶',
    equation: 'Zn + 2HCl â†’ ZnClâ‚‚ + Hâ‚‚â†‘',
    description: 'ÙŠÙ†ØªØ¬ ØºØ§Ø² Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ† ÙˆÙÙ‚Ø§Ø¹Ø§Øª.',
    colorEffect: '#f8ad9d'
  },
  'CO2+NaOH': {
    title: 'ğŸ¯ ØªÙØ§Ø¹Ù„ Ù‚Ø§Ø¹Ø¯Ø© Ù…Ø¹ Ø£ÙƒØ³ÙŠØ¯ Ø­Ù…Ø¶ÙŠ',
    equation: 'COâ‚‚ + 2NaOH â†’ Naâ‚‚COâ‚ƒ + Hâ‚‚O',
    description: 'ÙŠÙ†ØªØ¬ ÙƒØ±Ø¨ÙˆÙ†Ø§Øª Ø§Ù„ØµÙˆØ¯ÙŠÙˆÙ… ÙˆØ§Ù„Ù…Ø§Ø¡.',
    colorEffect: '#d0e8f2'
  },
  'FeCl3+KSCN': {
    title: 'ğŸ©¸ ØªÙØ§Ø¹Ù„ Ø§Ù„Ù„ÙˆÙ† Ø§Ù„Ø¯Ù…ÙˆÙŠ',
    equation: 'FeClâ‚ƒ + 3KSCN â†’ Fe(SCN)â‚ƒ + 3KCl',
    description: 'ÙŠØªÙƒÙˆÙ‘Ù† Ù…Ø­Ù„ÙˆÙ„ Ø£Ø­Ù…Ø± Ø¯Ù…ÙˆÙŠ Ù…Ù† Ø«ÙŠÙˆØ³ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø¯ÙŠØ¯.',
    colorEffect: '#d62828'
  },
  'Al+Fe2O3': {
    title: 'ğŸ”¥ ØªÙØ§Ø¹Ù„ Ø«ÙŠØ±Ù…Ø§ÙŠØª',
    equation: '2Al + Feâ‚‚Oâ‚ƒ â†’ 2Fe + Alâ‚‚Oâ‚ƒ',
    description: 'ØªÙØ§Ø¹Ù„ Ø­Ø±Ø§Ø±ÙŠ Ù‚ÙˆÙŠ ÙŠÙ†ØªØ¬ Ø§Ù„Ø­Ø¯ÙŠØ¯ Ø§Ù„Ù…Ù†ØµÙ‡Ø±. (Ù„Ù„Ø¹Ø±Ø¶ ÙÙ‚Ø·)',
    colorEffect: '#e85d04'
  }
};


const quizMap = {
  'HCl+NaOH': {
    q: 'Ù…Ø§ Ù†ÙˆØ¹ Ø§Ù„ØªÙØ§Ø¹Ù„ Ø¨ÙŠÙ† HCl Ùˆ NaOHØŸ',
    options: ['Ø§Ø­ØªØ±Ø§Ù‚', 'ØªØ¹Ø§Ø¯Ù„', 'Ø¥Ø­Ù„Ø§Ù„'],
    answer: 'ØªØ¹Ø§Ø¯Ù„'
  },
  'Na+H2O': {
    q: 'Ù…Ø§ Ø§Ù„ØºØ§Ø² Ø§Ù„Ù†Ø§ØªØ¬ Ù…Ù† ØªÙØ§Ø¹Ù„ Ø§Ù„ØµÙˆØ¯ÙŠÙˆÙ… Ù…Ø¹ Ø§Ù„Ù…Ø§Ø¡ØŸ',
    options: ['Ø£ÙƒØ³Ø¬ÙŠÙ†', 'Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†', 'Ù†ÙŠØªØ±ÙˆØ¬ÙŠÙ†'],
    answer: 'Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ†'
  },
  'AgNO3+NaCl': {
    q: 'Ù…Ø§ Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„ØªÙŠ ØªØªØ±Ø³Ø¨ Ø¹Ù†Ø¯ Ø®Ù„Ø· AgNO3 Ùˆ NaClØŸ',
    options: ['AgCl', 'NaNO3', 'NaCl'],
    answer: 'AgCl'
  },
  'CuSO4+Fe': {
    q: 'Ù…Ø§ Ù†ÙˆØ¹ Ù‡Ø°Ø§ Ø§Ù„ØªÙØ§Ø¹Ù„ØŸ',
    options: ['ØªØ¹Ø§Ø¯Ù„', 'Ø¥Ø­Ù„Ø§Ù„', 'ØªØ­Ù„Ù„'],
    answer: 'Ø¥Ø­Ù„Ø§Ù„'
  },
  'Al+Fe2O3': {
  q: 'Ù…Ø§ Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„Ù†Ø§ØªØ¬Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙÙŠ ØªÙØ§Ø¹Ù„ Ø§Ù„Ø«ÙŠØ±Ù…Ø§ÙŠØªØŸ',
  options: ['Alâ‚‚Oâ‚ƒ', 'Feâ‚‚Oâ‚ƒ', 'FeClâ‚ƒ'],
  answer: 'Fe'
}

};

    // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
    document.addEventListener('DOMContentLoaded', () => {
      scoreDisplay.textContent = `Ù†Ù‚Ø§Ø·Ùƒ: ${score}`;
      
      document.querySelectorAll('.chemical').forEach(item => {
        item.addEventListener('dragstart', (e) => {
          e.dataTransfer.setData('text', item.dataset.name);
          item.style.opacity = '0.5';
        });
        
        item.addEventListener('dragend', (e) => {
          item.style.opacity = '1';
        });
      });
    });

    function dragOverHandler(e) {
      e.preventDefault();
      tube.classList.add('drag-over');
    }

    function dragLeaveHandler() {
      tube.classList.remove('drag-over');
    }

    function dropHandler(e) {
      e.preventDefault();
      tube.classList.remove('drag-over');
      
      const chemical = e.dataTransfer.getData('text');
      if (!selectedChemicals.includes(chemical)) {
        selectedChemicals.push(chemical);
        tubeContent.textContent = selectedChemicals.join(' + ');
        // showQuiz(key1) || showQuiz(key2);  // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ÙƒÙˆÙŠØ² Ø¥Ù† ÙˆÙØ¬Ø¯
      }
    }

  function runReaction() {
  if (selectedChemicals.length === 0) {
    resultDisplay.textContent = 'âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¶Ø§ÙØ© Ù…ÙˆØ§Ø¯ Ø£ÙˆÙ„Ø§Ù‹';
    return;
  }
  function showQuiz(reactionKey) {
  const quiz = quizMap[reactionKey];
  if (!quiz) return false;

  const section = document.getElementById('quiz-section');
  const question = document.getElementById('quiz-question');
  const optionsDiv = document.getElementById('quiz-options');

  section.classList.remove('hidden');
  question.textContent = quiz.q;
  optionsDiv.innerHTML = '';

  quiz.options.forEach(option => {
    const btn = document.createElement('button');
    btn.textContent = option;
    btn.style.margin = '0.5rem';
    btn.style.backgroundColor = '#fff';
    btn.style.color = '#333';
    btn.style.border = '2px solid var(--primary-color)';
    btn.style.padding = '0.5rem 1rem';
    btn.style.borderRadius = '8px';
    btn.style.cursor = 'pointer';
    btn.style.transition = 'var(--transition)';
    
    btn.onclick = () => {
      if (option === quiz.answer) {
showCustomAlert('âœ… Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! Ø­ØµÙ„Øª Ø¹Ù„Ù‰ +5 Ù†Ù‚Ø§Ø· ğŸ–ï¸', '#28a745');
        score += 5;
        localStorage.setItem("score", score);
        scoreDisplay.textContent = `Ù†Ù‚Ø§Ø·Ùƒ: ${score}`;
      } else {
showCustomAlert('âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ ÙÙŠ Ø§Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©.', '#dc3545');
      }
      section.classList.add('hidden');
    };

    optionsDiv.appendChild(btn);
  });

  return true;
}


  const sound = document.getElementById('reaction-sound');
  const key1 = selectedChemicals.join('+');
  const key2 = selectedChemicals.slice().reverse().join('+');
  const reaction = reactionMap[key1] || reactionMap[key2] || null;
document.getElementById("reaction-sound").play();

  if (reaction) {
    resultDisplay.innerHTML = `
      <strong>${reaction.title}</strong><br>
      âš—ï¸ <code>${reaction.equation}</code><br>
      <p>${reaction.description}</p>
    `;
    showQuiz(key1) || showQuiz(key2);


    score += 10;
    scoreDisplay.textContent = `Ù†Ù‚Ø§Ø·Ùƒ: ${score}`;
    localStorage.setItem("score", score);

    // ØªØ£Ø«ÙŠØ± Ø§Ù„Ø¯Ø®Ø§Ù†
    const smoke = document.createElement('div');
    smoke.className = 'smoke';
    tube.appendChild(smoke);
    setTimeout(() => smoke.remove(), 2000);

    // ØªØ£Ø«ÙŠØ± Ù„ÙˆÙ†ÙŠ Ø¹Ù„Ù‰ Ø£Ù†Ø¨ÙˆØ¨ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
    if (reaction.colorEffect) {
      const originalBg = tube.style.backgroundColor;
      tube.style.backgroundColor = reaction.colorEffect;
      setTimeout(() => {
        tube.style.backgroundColor = originalBg || 'rgba(234, 250, 241, 0.5)';
      }, 2000);
    }

    // ØªØ´ØºÙŠÙ„ Ø§Ù„ØµÙˆØª
    sound.currentTime = 0;
    sound.play();

    // ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Ø§Ù„Ø³Ø¬Ù„
    const entry = `${new Date().toLocaleString('ar-EG')} - ${selectedChemicals.join(" + ")} â†’ ${reaction.title}`;
    history.unshift(entry);
    if (history.length > 20) history.pop();
    localStorage.setItem("history", JSON.stringify(history));
  } else {
    resultDisplay.textContent = 'âŒ Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªÙØ§Ø¹Ù„ Ù…Ù„Ø­ÙˆØ¸ Ø¨ÙŠÙ† Ù‡Ø°Ù‡ Ø§Ù„Ù…ÙˆØ§Ø¯';
    showQuiz(key1) || showQuiz(key2);

  }

  selectedChemicals = [];
  tubeContent.textContent = "Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…ÙˆØ§Ø¯ Ø¨Ø¹Ø¯";

  if (reaction.analysis) {
  const analysisBtn = document.createElement('button');
  analysisBtn.textContent = 'ğŸ” Ø­Ù„Ù‘Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„';
  analysisBtn.style.marginTop = '1rem';
  analysisBtn.onclick = () => showAnalysis(reaction.analysis);
  resultDisplay.appendChild(analysisBtn);
}

}


function showAnalysis(data) {
  const msg = `
    <strong>ğŸ”¬ ØªØ­Ù„ÙŠÙ„ Ø§Ù„ØªÙØ§Ø¹Ù„:</strong><br>
    â€¢ Ù†ÙˆØ¹ Ø§Ù„ØªÙØ§Ø¹Ù„: ${data.type}<br>
    â€¢ Ø§Ù„Ø·Ø§Ù‚Ø©: ${data.energy}<br>
    â€¢ Ø§Ù„Ù†ÙˆØ§ØªØ¬: ${data.result}<br>
    â€¢ Ø§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª: ${data.observations}
  `;
  showCustomAlert(msg);
}


    function showHistory() {
      document.getElementById('lab-section').classList.add('hidden');
      document.getElementById('history-section').classList.remove('hidden');
      const list = document.getElementById('history-list');
      list.innerHTML = '';
      
      if (history.length === 0) {
        list.innerHTML = '<li style="text-align: center;">Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ¬Ø§Ø±Ø¨ Ù…Ø³Ø¬Ù„Ø© Ø¨Ø¹Ø¯.</li>';
      } else {
        history.forEach(item => {
          const li = document.createElement('li');
          li.textContent = item;
          list.appendChild(li);
        });
      }
    }

    function showLab() {
      document.getElementById('lab-section').classList.remove('hidden');
      document.getElementById('history-section').classList.add('hidden');
    }

    function resetData() {
      if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ù†Ù‚Ø§Ø· ÙˆØ³Ø¬Ù„ Ø§Ù„ØªØ¬Ø§Ø±Ø¨ØŸ Ù„Ù† ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ±Ø¬Ø§Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.')) {
        localStorage.clear();
        score = 0;
        history = [];
        scoreDisplay.textContent = 'Ù†Ù‚Ø§Ø·Ùƒ: 0';
        resultDisplay.textContent = '';
        showLab();
        
        // Ø±Ø³Ø§Ù„Ø© ØªØ£ÙƒÙŠØ¯
        const msg = document.createElement('div');
        msg.textContent = 'ØªÙ…Øª Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¶Ø¨Ø· Ø¨Ù†Ø¬Ø§Ø­ âœ…';
        msg.style.position = 'fixed';
        msg.style.bottom = '20px';
        msg.style.left = '50%';
        msg.style.transform = 'translateX(-50%)';
        msg.style.backgroundColor = 'var(--primary-color)';
        msg.style.color = 'white';
        msg.style.padding = '0.8rem 1.5rem';
        msg.style.borderRadius = 'var(--border-radius)';
        msg.style.zIndex = '1000';
        msg.style.boxShadow = 'var(--box-shadow)';
        msg.style.fontSize = '0.9rem';
        document.body.appendChild(msg);
        
        setTimeout(() => msg.remove(), 3000);
      }
    }

const stepLab = {
  steps: [
    {
      instruction: "â‘  Ø£Ø¶Ù Ø­Ù…Ø¶ Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆÙƒÙ„ÙˆØ±ÙŠÙƒ HCl Ø¥Ù„Ù‰ Ø£Ù†Ø¨ÙˆØ¨ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±.",
      image: "https://i.imgur.com/xcsfMiB.png"
    },
    {
      instruction: "â‘¡ Ø£Ø¶Ù ÙÙ„Ø² Ø§Ù„Ù…ØºÙ†ÙŠØ³ÙŠÙˆÙ… Mg ÙˆØ³ØªÙ„Ø§Ø­Ø¸ ØªØµØ§Ø¹Ø¯ Ø§Ù„ÙÙ‚Ø§Ø¹Ø§Øª.",
      image: "https://i.imgur.com/tVjkiwP.png"
    },
    {
      instruction: "â‘¢ ÙŠØ¸Ù‡Ø± ØºØ§Ø² Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ† ÙˆÙŠØªÙƒÙˆÙ† ÙƒÙ„ÙˆØ±ÙŠØ¯ Ø§Ù„Ù…ØºÙ†ÙŠØ³ÙŠÙˆÙ….",
      image: "https://i.imgur.com/R0RZ2mw.png"
    }
  ],
  result: {
    title: "ğŸ’¥ ØªÙØ§Ø¹Ù„ Ø¥Ø²Ø§Ø­Ø©",
    equation: "Mg + 2HCl â†’ MgClâ‚‚ + Hâ‚‚â†‘",
    description: "ÙŠØªØ­Ø±Ø± ØºØ§Ø² Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆØ¬ÙŠÙ† ÙˆÙÙ‚Ø§Ø¹Ø§Øª ÙˆØ§Ø¶Ø­Ø© Ø¹Ù†Ø¯ ØªÙØ§Ø¹Ù„ Ø§Ù„Ù…ØºÙ†ÙŠØ³ÙŠÙˆÙ… Ù…Ø¹ Ø§Ù„Ø­Ù…Ø¶."
  },
  currentStep: 0
};




function showStepLab(which = 'default') {
  document.getElementById('lab-section').classList.add('hidden');
  document.getElementById('history-section').classList.add('hidden');
  document.getElementById('step-lab-section').classList.remove('hidden');


  if (which === 'mg') currentStepLab = stepLab_Mg_O2;
  else if (which === 'caco3') currentStepLab = stepLab_CaCO3_HCl;
  else currentStepLab = stepLab;

  currentStepLab.currentStep = 0;
  showCurrentStep();
}



function showCurrentStep() {
  const s = currentStepLab.steps[currentStepLab.currentStep];
  document.getElementById('step-instructions').textContent = s.instruction;
  const img = document.getElementById('step-img');
  img.src = s.image;
  img.style.display = 'block';
  document.getElementById('step-result').innerHTML = '';
}

function nextStep() {
  currentStepLab.currentStep++;
  if (currentStepLab.currentStep >= currentStepLab.steps.length) {
    const r = currentStepLab.result;
    document.getElementById('step-instructions').textContent = 'âœ… Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…ÙƒØªÙ…Ù„!';
const img = document.getElementById('step-img');
img.style.display = 'none';
img.src = ''; // Ù‡Ø°Ø§ Ø§Ù„Ø³Ø·Ø± ÙŠÙ…Ù†Ø¹ Ø¹Ø±Ø¶ ØµÙˆØ±Ø© Ù…ÙƒØ³ÙˆØ±Ø©
    document.getElementById('step-result').innerHTML = `
      <strong>${r.title}</strong><br>
      âš—ï¸ <code>${r.equation}</code><br>
      <p>${r.description}</p>
    `;
  } else {
    showCurrentStep();
  }
}


const stepLab_Mg_O2 = {
  steps: [
    {
      instruction: "â‘  Ø¬Ù‡Ù‘Ø² Ø´Ø±ÙŠØ·Ù‹Ø§ Ù…Ù† Ù…Ø¹Ø¯Ù† Ø§Ù„Ù…Ø§ØºÙ†ÙŠØ³ÙŠÙˆÙ… Mg.",
      image: "https://i.imgur.com/7BGa0ks.png"
    },
    {
      instruction: "â‘¡ Ù‚Ø±Ù‘Ø¨ Ù„Ù‡ Ù…ØµØ¯Ø± Ù†Ø§Ø± Ø£Ùˆ Ø´Ø±Ø§Ø±Ø© Ù‚ÙˆÙŠØ©.",
      image: "https://i.imgur.com/tzGRmhk.png"
    },
    {
      instruction: "â‘¢ ÙŠØ¨Ø¯Ø£ Ø§Ù„Ø´Ø±ÙŠØ· Ø¨Ø§Ù„Ø§Ø­ØªØ±Ø§Ù‚ Ø¨Ø³Ø±Ø¹Ø© ÙˆÙŠÙ†ØªØ¬ ÙˆÙ…ÙŠØ¶ Ù‚ÙˆÙŠ.",
      image: "https://i.imgur.com/31y19CU.png"
    }
  ],
  result: {
    title: "ğŸ”¥ ØªÙØ§Ø¹Ù„ Ø§Ø­ØªØ±Ø§Ù‚ Ø§Ù„Ù…Ø§ØºÙ†ÙŠØ³ÙŠÙˆÙ…",
    equation: "2Mg + Oâ‚‚ â†’ 2MgO",
    description: "ÙŠÙ†ØªØ¬ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„Ù…Ø§ØºÙ†ÙŠØ³ÙŠÙˆÙ… Ø¹Ù„Ù‰ Ø´ÙƒÙ„ Ù…Ø³Ø­ÙˆÙ‚ Ø£Ø¨ÙŠØ¶ ÙˆÙŠØªØ­Ø±Ø± Ø¶ÙˆØ¡ Ø³Ø§Ø·Ø¹."
  },
  currentStep: 0
};



const stepLab_CaCO3_HCl = {
  steps: [
    {
      instruction: "â‘  Ø¶Ø¹ Ø¨Ø¹Ø¶ ÙƒØ±Ø¨ÙˆÙ†Ø§Øª Ø§Ù„ÙƒØ§Ù„Ø³ÙŠÙˆÙ… CaCOâ‚ƒ ÙÙŠ Ø£Ù†Ø¨ÙˆØ¨ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±.",
      image: "https://i.imgur.com/Jjk1ikY.png"
    },
    {
      instruction: "â‘¡ Ø£Ø¶Ù Ø­Ù…Ø¶ Ø§Ù„Ù‡ÙŠØ¯Ø±ÙˆÙƒÙ„ÙˆØ±ÙŠÙƒ HCl Ø¨Ø¨Ø·Ø¡.",
      image: "https://i.imgur.com/k4oZoP4.png"
    },
    {
      instruction: "â‘¢ ØªØ¸Ù‡Ø± ÙÙ‚Ø§Ø¹Ø§Øª ØºØ§Ø²ÙŠØ© Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªÙØ§Ø¹Ù„.",
      image: "https://i.imgur.com/USbJSW9.png"
    }
  ],
  result: {
    title: "ğŸ’¨ Ø¥Ù†ØªØ§Ø¬ ØºØ§Ø² Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„ÙƒØ±Ø¨ÙˆÙ†",
    equation: "CaCOâ‚ƒ + 2HCl â†’ CaClâ‚‚ + COâ‚‚â†‘ + Hâ‚‚O",
    description: "ÙŠÙ†ØªØ¬ ØºØ§Ø² COâ‚‚ ÙˆÙÙ‚Ø§Ø¹Ø§Øª ÙˆØ§Ø¶Ø­Ø© ØªØ¯Ù„ Ø¹Ù„Ù‰ Ø§Ù„ØªÙØ§Ø¹Ù„."
  },
  currentStep: 0
};

    let currentStepLab = stepLab;



    function showCustomAlert(message, color = '#2c5e1a') {
  const alertBox = document.getElementById('custom-alert');
  alertBox.style.borderColor = color;
  alertBox.style.display = 'block';
  alertBox.innerHTML = message;

  setTimeout(() => {
    alertBox.style.display = 'none';
  }, 3000);
}

  </script>


<div id="custom-alert" style="
  display: none;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: white;
  color: #333;
  border: 3px solid var(--primary-color);
  padding: 1.5rem 2rem;
  border-radius: var(--border-radius);
  box-shadow: var(--box-shadow);
  font-size: 1.1rem;
  z-index: 9999;
  text-align: center;
  transition: all 0.4s ease;
  min-width: 250px;
  max-width: 80%;
"></div>

</body>
</html>